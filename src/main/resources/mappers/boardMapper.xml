<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace ="com.spring.dbproject.repository.BoardMapper">

	<select id = "boardList" parameterType = "String" resultType="Board">
		select
			boardnum as boardNum,
			title,
			inputdate as inputDate
		from
			blog_board
	   	where
	   		id like #{blogId }
		order by boardNum desc
	</select>
	
	<insert id = "boardWrite" parameterType = "Board">
		insert into blog_board
		(
			boardnum
			, id
			, title
			, content
		)
		values (
			blog_board_seq.nextval
			, #{id}
			, #{title}
			, #{content}
		)
	</insert>
	
		<select id = "readBoard" parameterType = "int" resultType="Board">
			select
				boardnum as boardNum,
				id as id,
	 			title as title,
	 			inputdate as inputDate,
	 			content,
	 			likecnt as likeCnt
	 		from
	 			blog_board
	 		where
	 			boardnum = #{boardNum }
	</select>
	
	 <delete id="deleteBoard" parameterType="int">
 		delete from blog_board
 		where
 			boardnum = #{boardNum }
 	</delete>
 	
 	
 	<update id="updateBoard" parameterType="Board">
		update
			blog_board
		set
			title = #{title},
			content = #{content}
		where
			boardnum = #{boardNum}
			and
			id = #{id}
	</update>
	
	<!-- 추천수 1 증가 -->
	<update id="like" parameterType="int">
		update
			blog_board
		set
			likecnt = likecnt + 1
		where
			boardnum = #{boardNum}
	</update>
	

 </mapper>